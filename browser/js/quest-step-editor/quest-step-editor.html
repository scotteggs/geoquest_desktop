<div class="row btn-row">
	<button class="btn btn-info step-btn" ng-click="saveQuestSteps()" ng-disabled="stepform.$invalid">Save And Return</button>
	<button class="btn btn-info step-btn" ng-click="returnWithoutSaving()">Return w/o Saving</button>
	<button class="btn btn-info step-btn" ng-click="removeQuestStep()">Remove Current Step</button>
	<button class="btn btn-info step-btn" ng-click="addQuestStep()" ng-disabled="stepform.$invalid">Create New Step</button>
</div>
<div class="row">
	<div class="col-xs-6">
		<div class="row">
			<div class="col-xs-6">
				<form name="stepform" class="form-horizontal edit-step" novalidate>
					<div class="formitem">
						<span class="formtitle">Name</span><br>
						<input name="name" class="form-control" type="text" ng-model="currentStep.name" required><br>
      		</div>
					<div class="formitem">
						<span class="formtitle">Message Title</span><br>
						<input name="transitionInfo.title" class="form-control" type="text" ng-model="currentStep.transitionInfo.title" required><br>
					</div>
			</div>
			<div class="col-xs-6">
				<div class="image-preview">
					<img class="step-image" ng-src="{{currentStep.transitionInfo.imageUrl}}">
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col-xs-12">
					<div class="formitem">
						<span class="formtitle">Message Image URL</span><br>
						<input name="currentStep.transitionInfo.imageUrl" class="form-control"  type="text" ng-model="currentStep.transitionInfo.imageUrl"><br>
					</div>
					<div class="formitem">
						<span class="formtitle">Message Text</span><br>
						<textarea name="transitionInfo.text" class="form-control"  type="text" ng-model="currentStep.transitionInfo.text"></textarea><br>
					</div>
					<div class="formitem">
						<span class="formtitle">Message Question</span><br>
						<textarea name="currentStep.transitionInfo.question" class="form-control"  type="text" ng-model="currentStep.transitionInfo.question"></textarea><br>
					</div>
					<div class="formitem">
						<span class="formtitle">Message Correct Answer</span><br>
						<textarea name="currentStep.transitionInfo.answer" class="form-control"  type="text" ng-model="currentStep.transitionInfo.answer"></textarea><br>
					</div>
				</form>
			</div>
		</div>
	</div>
	<div class="step-editor col-xs-4">
		<div id="quest-step-map" class="quest-step-map">
			<leaflet></leaflet>
		</div>
	</div>
	<div class="steps-list col-xs-2">
		<div ui-sortable class="stepsContainer" ng-model="quest.questSteps">
			<div ng-repeat="questStep in quest.questSteps track by $index" class="stepIcon" ng-click="switchStep(questStep)">{{questStep.name}}
			</div>
		</div>
	</div>
</div>
